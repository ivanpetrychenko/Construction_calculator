(this.webpackJsonpconstruction_client=this.webpackJsonpconstruction_client||[]).push([[0],{35:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(17),i=c.n(r),s=c(10),l=c(5),o=c(11),u=function(e){return{type:"TABS_CHANGED",tabName:e}},d=function(e){return{type:"SERVICES_ITEMS_REQUESTED",items:e}},j=function(e){return{type:"USD_CURRENCY_REQUESTED",rate:e}},b=function(e){return{type:"USER_AUTH",prop:e}},h=c(3),_="loginData",O=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(h.b)(),d=Object(n.useCallback)((function(e){a(e),localStorage.setItem(_,JSON.stringify({token:e})),u(b(!0))}),[u]),j=Object(n.useCallback)((function(){a(null),localStorage.removeItem(_),u(b(!1))}),[u]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem(_));e&&e.token&&d(e.token),l(!0),u(b(!!e))}),[d,u]),{login:d,logout:j,token:c,ready:s}},f=c(0);function m(){var e=Object(h.c)((function(e){return e.tab})),t=Object(h.b)(),c=function(t,c){return e===t?"calculator__tab ".concat(c):"calculator__tab"};return Object(f.jsx)("nav",{className:"calculator__tabs",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{onClick:function(){return t(u("squares"))},className:c("squares","calculator__tab_active"),children:Object(f.jsx)("span",{children:"\u041f\u043b\u043e\u0449\u0430 \u043f\u0440\u0438\u043c\u0456\u0449\u0435\u043d\u043d\u044f"})}),Object(f.jsx)("li",{onClick:function(){return t(u("services"))},className:c("services","calculator__tab_active"),children:Object(f.jsx)("span",{children:"\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0456 \u0440\u043e\u0431\u043e\u0442\u0438"})})]})})}var p=c(16),x=c.n(p),v=c(22),N=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(null),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(n.useCallback)(function(){var e=Object(v.a)(x.a.mark((function e(t){var c,n,r,i,s,o=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:{"Content-Type":"application/json"},a(!0),e.prev=4,e.next=7,fetch(t,{method:c,body:n,headers:r});case 7:return i=e.sent,e.next=10,i.json();case 10:if(s=e.sent,i.ok){e.next=13;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(i.status));case 13:return a(!1),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(4),a(!1),l(e.t0.message),e.t0;case 22:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),[]),d=Object(n.useCallback)(function(){var e=Object(v.a)(x.a.mark((function e(t){var c,n,r,i,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>1&&void 0!==s[1]?s[1]:"GET",n=s.length>2&&void 0!==s[2]?s[2]:null,r=s.length>3&&void 0!==s[3]?s[3]:{"Content-Type":"application/json"},a(!0),e.prev=4,e.next=7,fetch(t,{method:c,body:n,headers:r,responseType:"blob"});case 7:if((i=e.sent).ok){e.next=10;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(i.status));case 10:return a(!1),e.next=13,i.blob();case 13:return e.abrupt("return",e.sent);case 16:throw e.prev=16,e.t0=e.catch(4),a(!1),l(e.t0.message),e.t0;case 21:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{loading:c,request:u,error:s,clearError:Object(n.useCallback)((function(){return l(null)}),[]),download:d}},g=function(e,t){return e*t},S=function(e,t,c){return 2*Math.sqrt(e)*2*c*t},E=function(e,t){return 4*Math.sqrt(e)*t},w=function(e,t,c){var n=e/c;return n<.5&&(n=0),n>=.5&&n<1&&(n=1),n*t},R=c(13),k=c(4),P=c.p+"static/media/Spinner.e06fe25d.svg";function T(){return Object(f.jsx)("img",{className:"spinner",src:P,alt:"Loading"})}function D(e){var t=e.hidden,c=N(),a=c.loading,r=c.request,i=c.error,s=Object(h.c)((function(e){return e})),l=s.squares,o=s.services,u=s.height,d=s.totalSquare,j=s.totalPriceHRN,b=s.usdRate,_=Object(h.b)();Object(n.useEffect)((function(){return r("/squares/").then((function(e){return _({type:"SQUARE_ITEMS_REQUESTED",items:e})})),_({type:"CHANGES_CLEARED"})}),[_,r]);var O=function(e,t){e<0&&(t.style.color="red"),e>=0&&(t.style.color="")},m=function(e,t){O(e,t);var c=function(e,t,c,n,a,r){return e.forEach((function(e){if(e.checked)switch(e.id){case"wall_plaster":case"wall_putty":case"wallpaper":case"wall_painting":a-=S(n,e.count,c),a+=S(n,e.count,t);break;default:a+=0}})),{newHeight:t,newTotalPriceHRN:a,newTotalPriceUSD:a/r}}(o,e,u,d,j,b),n=c.newHeight,a=c.newTotalPriceHRN,r=c.newTotalPriceUSD;_(function(e,t,c){return{type:"HEIGHT_CHANGED",height:e,totalPriceHRN:t,totalPriceUSD:c}}(n,a,r))},p=function(e,t,c){O(t,c);var n=function(e,t,c,n,a,r){t<0&&(t=0);var i=0;c.forEach((function(e){i+=e.value}));var s=c.findIndex((function(t){return t.id===e})),l=c.find((function(t){return t.id===e})),o=Object(k.a)(Object(k.a)({},l),{},{value:t}),u=i+t-l.value,d=0;return n.forEach((function(n){if(n.checked)switch(n.id){case"destruction":case"ceiling":case"ceiling_painting":case"ceiling_putty":case"floor":case"laminate":d+=g(u,n.count);break;case"wall_plaster":case"wall_putty":case"wallpaper":case"wall_painting":d+=S(u,n.count,a);break;case"floor_border":case"ceiling_border":d+=E(u,n.count);break;case"windows":d+=w(u,n.count,7.5);break;case"doors_in":d+=w(u,n.count,25);break;case"tile":var r=0,i=0;r="bathroom"===e?t:c.find((function(e){return"bathroom"===e.id})).value,i="toilet"===e?t:c.find((function(e){return"toilet"===e.id})).value,d+=g(r+i,n.count);break;case"doors_out":case"plumbing":case"electrition":d+=+n.count;break;default:d+=0}})),{newSquares:[].concat(Object(R.a)(c.slice(0,s)),[o],Object(R.a)(c.slice(s+1))),newTotalSquare:u,newTotalPriceHRN:d,newTotalPriceUSD:d/r}}(e,t,l,o,u,b),a=n.newSquares,r=n.newTotalSquare,i=n.newTotalPriceHRN,s=n.newTotalPriceUSD;_(function(e,t,c,n){return{type:"SQUARE_ITEMS_CHANGED",squares:e,totalSquare:t,totalPriceHRN:c,totalPriceUSD:n}}(a,r,i,s))};return Object(f.jsxs)("div",{className:"calculator__options",hidden:t,children:[Object(f.jsxs)("div",{className:"area-item area-item_first",children:[Object(f.jsx)("div",{className:"area-item__title",children:"\u0412\u0438\u0441\u043e\u0442\u0430 \u0441\u0442\u0435\u043b\u0456 \u0432 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0456:"}),Object(f.jsx)("input",{onChange:function(e){return m(+e.target.value,e.target)},type:"number",id:"height",placeholder:"0",min:"0"}),Object(f.jsx)("span",{className:"area-item__unit",children:"\u043c"})]}),Object(f.jsx)("h2",{className:"title title__panel",children:"\u041f\u043b\u043e\u0449\u0430 \u043e\u043a\u0440\u0435\u043c\u0438\u0445 \u043a\u0456\u043c\u043d\u0430\u0442:"}),Object(f.jsxs)("ul",{className:"calculator__area-grid",children:[a?Object(f.jsx)(T,{}):null,i?Object(f.jsx)("span",{className:"title title__panel error",children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437"}):null,l.map((function(e){return Object(f.jsxs)("li",{className:"area-item",children:[Object(f.jsx)("div",{className:"area-item__title",children:e.name}),Object(f.jsx)("input",{onChange:function(t){return p(e.id,+t.target.value,t.target)},onFocus:function(e){0==e.target.value&&(e.target.value="")},type:"number",id:e.id,placeholder:"0",min:"0"}),Object(f.jsxs)("span",{className:"area-item__unit",children:["\u043c",Object(f.jsx)("sup",{children:"2"})]})]},e.id)}))]}),Object(f.jsxs)("div",{className:"calculator__notes",children:[Object(f.jsx)("div",{className:"calculator__notes-title",children:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u044f: "}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{className:"calculator__note",children:"\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u044e\u0439\u0442\u0435 \u043f\u043b\u043e\u0449\u0443 \u043f\u0440\u0438\u043c\u0456\u0449\u0435\u043d\u044c \u0442\u0430\u043c, \u0434\u0435 \u0454 \u043f\u043e\u0442\u0440\u0435\u0431\u0430 \u0443 \u0440\u0435\u043c\u043e\u043d\u0442\u0456"}),Object(f.jsx)("li",{className:"calculator__note",children:"\u044f\u043a\u0449\u043e \u0454 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u043a\u0456\u043c\u043d\u0430\u0442\u0438, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0421\u043f\u0430\u043b\u044c\u043d\u044f \u21163, \u0442\u043e \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u0457\u0445 \u043f\u043b\u043e\u0449\u044e \u0434\u043e \u0456\u0441\u043d\u0443\u044e\u0447\u0438\u0445 \u0432 \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440\u0456"}),Object(f.jsx)("li",{className:"calculator__note",children:"\u0437\u0430\u043f\u043e\u0432\u043d\u044e\u0439\u0442\u0435 \u0432\u0438\u0441\u043e\u0442\u0443 \u0441\u0442\u0435\u043b\u0456. \u0414\u0435\u044f\u043a\u0456 \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043a\u0438 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u044e\u0442\u044c \u0446\u044c\u043e\u0433\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"})]})]})]})}var U=function(e,t,c,n,a,r){return e?t+=c(n,a,r):t-=c(n,a,r),t};function y(e){var t=e.hidden,c=N(),a=c.loading,r=c.request,i=c.error,s=Object(h.c)((function(e){return e})),l=s.services,o=s.squares,u=s.totalPriceHRN,j=s.totalSquare,b=s.height,_=s.usdRate,O=Object(h.b)();Object(n.useEffect)((function(){r("/operations/").then((function(e){return O(d(e))}))}),[O,r]);var m=function(e,t){var c=function(e,t,c,n,a,r,i,s){var l=t.findIndex((function(t){return t.id===e})),o=t[l].count,u=t.find((function(t){return t.id===e})),d=Object(k.a)(Object(k.a)({},u),{},{checked:n});switch(e){case"destruction":case"ceiling":case"ceiling_painting":case"ceiling_putty":case"floor":case"laminate":a=U(n,a,g,r,o);break;case"wall_plaster":case"wall_putty":case"wallpaper":case"wall_painting":a=U(n,a,S,r,o,i);break;case"floor_border":case"ceiling_border":a=U(n,a,E,r,o);break;case"windows":a=U(n,a,w,r,o,7.5);break;case"doors_in":a=U(n,a,w,r,o,25);break;case"tile":var j=c.find((function(e){return"bathroom"===e.id})).value,b=c.find((function(e){return"toilet"===e.id})).value;a=U(n,a,g,j+b,o);break;case"doors_out":case"plumbing":case"electrition":n?a+=+o:a-=+o;break;default:a+=0}return{newServices:[].concat(Object(R.a)(t.slice(0,l)),[d],Object(R.a)(t.slice(l+1))),newTotalPriceHRN:a,newTotalPriceUSD:a/s}}(e,l,o,t,u,j,b,_),n=c.newServices,a=c.newTotalPriceHRN,r=c.newTotalPriceUSD;O(function(e,t,c){return{type:"SERVICES_ITEMS_CHANGED",services:e,totalPriceHRN:t,totalPriceUSD:c}}(n,a,r))};return Object(f.jsxs)("div",{className:"calculator__options",hidden:t,children:[Object(f.jsx)("h2",{className:"title title__panel",children:"\u041d\u0430\u0437\u0432\u0430 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0438\u0445 \u0440\u043e\u0431\u0456\u0442:"}),Object(f.jsxs)("ul",{className:"calculator__service-grid",children:[a?Object(f.jsx)(T,{}):null,i?Object(f.jsx)("span",{className:"title title__panel error",children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437"}):null,l.map((function(e){return Object(f.jsxs)("li",{className:"service-item",children:[Object(f.jsxs)("div",{className:"service-item__descr",children:[Object(f.jsx)("div",{className:"service-item__title",children:e.name}),Object(f.jsxs)("div",{className:"service-item__price",children:[Object(f.jsx)("span",{children:e.count}),e.unit]})]}),Object(f.jsxs)("label",{htmlFor:e.id,className:"service-item__choice",children:[Object(f.jsx)("input",{onChange:function(t){return m(e.id,t.target.checked)},id:e.id,type:"checkbox"}),Object(f.jsx)("span",{className:"service-item__checkbox"})]})]},e.id)}))]}),Object(f.jsxs)("div",{className:"calculator__notes",children:[Object(f.jsx)("div",{className:"calculator__notes-title",children:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u044f: "}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{className:"calculator__note",children:"\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u044e\u0439\u0442\u0435 \u0433\u0430\u043b\u043e\u0447\u043a\u0443 \u043d\u0430\u0432\u043f\u0440\u043e\u0442\u0438 \u043f\u043e\u0441\u043b\u0443\u0433\u0438, \u044f\u043a\u0449\u043e \u0432\u043e\u043d\u0430 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0430"}),Object(f.jsx)("li",{className:"calculator__note",children:"\u043f\u043e\u0440\u0443\u0447 \u0437 \u043f\u043e\u0441\u043b\u0443\u0433\u043e\u044e \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0430 \u0441\u0435\u0440\u0435\u0434\u043d\u044f \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u043d\u0430 \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442. \u0421\u044e\u0434\u0438 \u0432\u0445\u043e\u0434\u0438\u0442\u044c \u0440\u043e\u0431\u043e\u0442\u0430 \u0442\u0430 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b. \u0426\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0437\u0430 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u0438\u0439 \u0430\u0431\u043e \u043f\u043e\u0433\u043e\u043d\u043d\u0438\u0439 \u043c\u0435\u0442\u0440, \u0443\u0441\u0435\u0440\u0435\u0434\u043d\u0435\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0432\u0441\u0456\u0439 \u0441\u0430\u043d\u0442\u0435\u0445\u043d\u0456\u043a\u0438 \u0434\u043b\u044f \u0440\u0435\u043c\u043e\u043d\u0442\u0443 \u0456 \u0442\u0434. \u041f\u0456\u0434\u0441\u0443\u043c\u043a\u043e\u0432\u0438\u0439 \u0432\u0430\u0440\u0456\u0430\u043d\u0442 \u043c\u043e\u0436\u0435 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0442\u0438\u0441\u044f \u0432\u0456\u0434 \u043e\u0431\u0440\u0430\u043d\u0438\u0445 \u0432\u0430\u043c\u0438 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0456\u0432, \u0430\u043b\u0435 \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0434\u0430\u0441\u0442\u044c \u0432\u0430\u043c \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u043f\u0440\u043e \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0440\u0435\u043c\u043e\u043d\u0442\u0443 \u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0457 \u044f\u043a\u043e\u0441\u0442\u0456."})]})]})]})}function C(){var e=Object(h.c)((function(e){return e.tab})),t=function(t){return e===t};return Object(f.jsxs)("div",{className:"calculator__field",children:[Object(f.jsx)(m,{}),Object(f.jsx)(D,{hidden:t("services")}),Object(f.jsx)(y,{hidden:t("squares")})]})}function H(){var e=Object(h.c)((function(e){return e})),t=e.totalPriceHRN,c=e.totalPriceUSD,a=Object(h.b)(),r=N(),i=r.request,s=r.error;return Object(n.useEffect)((function(){i("https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json","GET",null,{}).then((function(e){return e.find((function(e){return"USD"===e.cc})).rate})).then((function(e){a(j(e))})).catch((function(e){console.log(e),a(j(1))}))}),[a,i]),Object(f.jsxs)("div",{className:"calculator__total",children:[Object(f.jsxs)("div",{className:"calculator__total-price",children:[Object(f.jsx)("span",{id:"total_hrn",children:t.toFixed()})," \u0433\u0440\u043d"]}),Object(f.jsxs)("div",{className:"calculator__total-descr",children:["\u041e\u0440\u0456\u0454\u043d\u0442\u043e\u0432\u043d\u0430",Object(f.jsx)("br",{}),"\u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0440\u043e\u0431\u0456\u0442"]}),Object(f.jsxs)("div",{className:"calculator__total-price",children:[Object(f.jsx)("span",{className:s?"error":null,id:"total_usd",children:s?"\u041f\u043e\u043c\u0438\u043b\u043a\u0430":c.toFixed(2)})," $"]}),Object(f.jsxs)("div",{className:"calculator__total-descr",children:["\u0421\u0443\u043c\u0430 \u0432 \u0434\u043e\u043b\u0430\u0440\u0430\u0445 \u0421\u0428\u0410",Object(f.jsx)("br",{}),"\u0437\u0430 \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u043c \u043a\u0443\u0440\u0441\u043e\u043c"]})]})}var q=c.p+"static/media/pdf_icon.ba40f5ff.svg";function A(){var e=N(),t=e.loading,c=e.request,a=e.error,r=e.download,i=Object(n.useState)([]),s=Object(o.a)(i,2),l=s[0],u=s[1];Object(n.useEffect)((function(){c("/downloadpdf/all").then((function(e){return u(e.result)})).catch((function(e){return console.log(e)}))}),[c]);return Object(f.jsxs)("div",{className:"calculator__pdfcontainer",children:[Object(f.jsx)("h2",{className:"title title__panel",children:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043di \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043a\u0438:"}),Object(f.jsxs)("ul",{className:"calculator__pdflist",children:[t?Object(f.jsx)(T,{}):null,a?Object(f.jsx)("span",{className:"title title__panel error",children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437"}):null,l.map((function(e){return Object(f.jsx)("li",{className:"calculator__pdflist-item",children:Object(f.jsxs)("button",{onClick:function(t){return function(e,t){e.preventDefault(),r("/downloadpdf/","POST",JSON.stringify({url:t})).then((function(e){var t=window.URL.createObjectURL(e),c=document.createElement("a");c.href=t,c.setAttribute("download","\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a"),document.body.appendChild(c),c.click()})).catch((function(e){return console.log(e)}))}(t,e.url)},children:[Object(f.jsx)("img",{src:q,alt:"pdf file"}),Object(f.jsx)("span",{children:e.name})]})},e.name)}))]})]})}c(35);var I=function(){var e=N(),t=e.loading,c=e.request,n=e.error,a=e.download,r=e.clearError,i=Object(h.c)((function(e){return e})),l=i.squares,o=i.services,u=i.height,d=i.totalPriceHRN,j=i.totalPriceUSD,b=i.login;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"calculator",children:[Object(f.jsx)(C,{}),Object(f.jsx)(H,{})]}),Object(f.jsx)(s.b,{className:"button button__log",to:"/login",children:"\u0412\u0432\u0456\u0439\u0442\u0438 \u044f\u043a \u0430\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440"}),Object(f.jsx)("button",{className:"button button__pdf",onClick:function(){return function(e,t,n,i,s){var l={squares:e,services:t,height:n,totalPriceHRN:i.toFixed(0),totalPriceUSD:s.toFixed(2)};r(),c("/createpdf/","POST",JSON.stringify(l),{"Content-Type":"application/json"},!0).then((function(e){return a("/downloadpdf/","POST",JSON.stringify({url:e.message}))})).then((function(e){var t=window.URL.createObjectURL(e),c=document.createElement("a");c.href=t,c.setAttribute("download","\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a"),document.body.appendChild(c),c.click()})).catch((function(e){return console.log(e)}))}(l,o,u,d,j)},disabled:t,style:n?{backgroundColor:"red"}:null,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u044f\u043a PDF"}),n?Object(f.jsx)("div",{className:"title title__panel error mt50",children:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043d\u044c\u043e \u0434\u0430\u043d\u0438\u0445 \u0430\u0431\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f PDF"}):null,b?Object(f.jsx)(A,{}):null]})},G=(c(38),function(){var e=N(),t=e.loading,c=e.request,n=e.error,a=O().login;return Object(f.jsxs)("div",{className:"authorization",children:[Object(f.jsx)("h2",{className:"title title__auth",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"}),Object(f.jsxs)("form",{className:"authorization__form",onSubmit:function(e){return function(e){e.preventDefault();var t=new FormData(e.target),n=JSON.stringify(Object.fromEntries(t.entries()));c("/admin/","POST",n).then((function(e){if(!e.token)throw new Error;a(e.token)})).catch((function(e){console.log(e)}))}(e)},children:[Object(f.jsx)("label",{htmlFor:"login",children:"\u041b\u043e\u0433\u0456\u043d"}),Object(f.jsx)("input",{className:n?"authorization__error":null,type:"text",id:"login",name:"login"}),Object(f.jsx)("label",{htmlFor:"pass",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("input",{className:n?"authorization__error":null,type:"password",name:"password"}),Object(f.jsx)("span",{className:n?"authorization__error-msg authorization__error-msg_visible":"authorization__error-msg",children:"\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u043b\u043e\u0433\u0456\u043d \u0430\u0431\u043e \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(f.jsx)("button",{disabled:t,className:"button button__form",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]})]})}),F=(c(39),function(){var e=N(),t=e.loading,c=e.request,a=e.error,r=Object(h.c)((function(e){return e})),i=r.services,l=r.login,o=Object(h.b)(),u=O().logout;return Object(n.useEffect)((function(){i&&0!==i.length||c("/operations/").then((function(e){return o(d(e))})).catch((function(e){return console.log(e)}))}),[c,o,i]),l?Object(f.jsxs)("div",{className:"admin-panel",children:[Object(f.jsx)("h2",{className:"title title__panel",children:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c \u0441\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u0446\u0456\u043d\u043d\u0438\u043a \u043a\u043e\u0436\u043d\u043e\u0457 \u0440\u043e\u0431\u043e\u0442\u0438:"}),Object(f.jsxs)("ul",{className:"admin-panel__grid",children:[t?Object(f.jsx)(T,{}):null,a?Object(f.jsx)("span",{className:"title title__panel error",children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437"}):null,i.map((function(e){return Object(f.jsxs)("li",{className:"admin-panel__item",children:[Object(f.jsx)("div",{className:"admin-panel__item-title",children:e.name}),Object(f.jsx)("input",{id:e.id,type:"number",className:"admin-panel__item-input",placeholder:"20",defaultValue:e.count,onChange:function(t){c("/operations/".concat(e.id),"PUT",JSON.stringify({count:t.target.value})).then((function(e){return console.log(e)}))}}),Object(f.jsx)("span",{className:"admin-panel__item-unit",children:e.unit})]},e.id)}))]}),Object(f.jsx)("div",{className:"admin-panel__notes",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"calculator__notes-title",children:"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438: "}),Object(f.jsx)("ul",{children:Object(f.jsx)("li",{className:"calculator__note",children:"\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u044e\u0439\u0442\u0435 \u0442\u0456\u043b\u044c\u043a\u0438 \u0446\u0438\u0444\u0440\u0438, \u043e\u0434\u0438\u043d\u0438\u0446\u0456 \u0432\u0438\u043c\u0456\u0440\u044e\u0432\u0430\u043d\u043d\u044f \u043f\u0456\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442\u044c\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e"})})]})}),Object(f.jsxs)("div",{className:"admin-panel__btns",children:[Object(f.jsx)(s.b,{className:"button button__exit",to:"/",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(f.jsx)(s.b,{className:"button button__exit",to:"/",onClick:u,children:"\u0412\u0438\u0439\u0442\u0438"})]})]}):Object(f.jsxs)("div",{className:"admin-panel__error",children:[Object(f.jsx)("span",{children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0456\u0457"}),Object(f.jsx)(s.b,{className:"button button__exit",to:"/",children:"\u041d\u0430\u0437\u0430\u0434"})]})});var M=function(){var e=Object(h.c)((function(e){return e.login}));return O().ready,Object(f.jsxs)("section",{className:"app",children:[Object(f.jsx)("h1",{className:"app__title",children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0432\u0430\u0440\u0442\u043e\u0441\u0442\u0456 \u0440\u0435\u043c\u043e\u043d\u0442\u0443"}),Object(f.jsx)(s.a,{children:Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{path:"/",exact:!0,component:I}),Object(f.jsx)(l.b,{exact:!0,path:"/login",children:e?Object(f.jsx)(l.a,{to:"/admin"}):Object(f.jsx)(G,{})}),Object(f.jsx)(l.b,{path:"/admin",exact:!0,component:F}),Object(f.jsx)(l.a,{to:"/"})]})})]})},Q=c(25),J={login:!1,tab:"squares",squares:[],services:[],totalSquare:0,height:0,totalPriceHRN:0,totalPriceUSD:0,usdRate:0},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_AUTH":return Object(k.a)(Object(k.a)({},e),{},{login:t.prop});case"TABS_CHANGED":return Object(k.a)(Object(k.a)({},e),{},{tab:t.tabName});case"SQUARE_ITEMS_REQUESTED":return Object(k.a)(Object(k.a)({},e),{},{squares:t.items});case"HEIGHT_CHANGED":return Object(k.a)(Object(k.a)({},e),{},{height:t.height,totalPriceHRN:t.totalPriceHRN,totalPriceUSD:t.totalPriceUSD});case"SQUARE_ITEMS_CHANGED":return Object(k.a)(Object(k.a)({},e),{},{squares:t.squares,totalSquare:t.totalSquare,totalPriceHRN:t.totalPriceHRN,totalPriceUSD:t.totalPriceUSD});case"SERVICES_ITEMS_REQUESTED":return Object(k.a)(Object(k.a)({},e),{},{services:t.items});case"CHANGES_CLEARED":return Object(k.a)(Object(k.a)({},e),{},{totalSquare:0,height:0,totalPriceHRN:0,totalPriceUSD:0});case"SERVICES_ITEMS_CHANGED":return Object(k.a)(Object(k.a)({},e),{},{services:t.services,totalPriceHRN:t.totalPriceHRN,totalPriceUSD:t.totalPriceUSD});case"USD_CURRENCY_REQUESTED":return Object(k.a)(Object(k.a)({},e),{},{usdRate:t.rate});default:return e}},L=Object(Q.a)(z);c(40);i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(h.a,{store:L,children:Object(f.jsx)(M,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.b7b17f84.chunk.js.map